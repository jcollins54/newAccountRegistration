<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>jQuery New Account Creation Form</title>

</head>
<body>
<h1>jQuery New Account Creation Form</h1>
<form id="new-account-form">
<p><input type="email" size="30" name="email" value="" placeholder="Enter your email address"></p>
<p><input type="text" size="30" name="password1" value="" placeholder="Enter a password"></p>
<p><input type="text" size="30" name="password2" value="" placeholder="Reenter the password"></p>
<button type="submit">Create Account</button>
</form>
<p>Form Output: <span id="output"></span></p>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
let em = "";

function isValidEmail(){
    em = $.trim($("input[name='email']").val());
    const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
    if (emailPattern.test(em)){
        return true;
    }
    else {
        alert ('Please enter valid email');
        return false;
    }
    
}

function clearResults(){
    $('#output').empty;
}

$("#new-account-form").on("submit", function(event){
    event.preventDefault();
    clearResults();
    const $password1 = $(this).find("[name=password1]");
    const password1 = $password1.val();
    const $password2 = $(this).find("[name=password2]");
    const password2 = $password2.val();
    const $email = $(this).find("[name=email]");
    const email = $email.val();
    if (password1 === password2){
        $("#output").html("<br>Your password has been saved.");
    } else {
        $("#output").html("<br>The passwords do not match.");
    }
    $("#output").append("<br>Your email is "+email+".");
    })
</script>
</body>
</html>